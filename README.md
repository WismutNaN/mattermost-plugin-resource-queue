# Resource Queue ‚Äî Mattermost Plugin

–ü–ª–∞–≥–∏–Ω –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ–±—â–∏–º–∏ —Ä–µ—Å—É—Ä—Å–∞–º–∏ (—É–¥–∞–ª—ë–Ω–Ω—ã–µ –ü–ö, —Å–µ—Ä–≤–µ—Ä—ã, —Å–µ—Ä–≤–∏—Å—ã): –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ, –æ—á–µ—Ä–µ–¥—å, —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞.

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- **–ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ** —Ä–µ—Å—É—Ä—Å–æ–≤ –Ω–∞ –∑–∞–¥–∞–Ω–Ω–æ–µ –≤—Ä–µ–º—è —Å –ø—Ä–µ—Å–µ—Ç–∞–º–∏ (30–º, 1—á, 2—á, 4—á, 8—á) –∏–ª–∏ –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω–æ–π –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é
- **–û—á–µ—Ä–µ–¥—å** ‚Äî –≤—Å—Ç–∞—Ç—å –≤ –æ—á–µ—Ä–µ–¥—å –µ—Å–ª–∏ —Ä–µ—Å—É—Ä—Å –∑–∞–Ω—è—Ç, –ø–æ–ª—É—á–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ø—Ä–∏ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–∏
- **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è**: –∏—Å—Ç–µ—á–µ–Ω–∏–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è, –ø–æ—è–≤–ª–µ–Ω–∏–µ –∫–æ–≥–æ-—Ç–æ –≤ –æ—á–µ—Ä–µ–¥–∏ –∑–∞ —Ç–æ–±–æ–π, –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–∞
- **–ü–æ–¥–ø–∏—Å–∫–∏** (watch) –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–∞ —Ä–µ—Å—É—Ä—Å–∞ –±–µ–∑ –æ—á–µ—Ä–µ–¥–∏
- **–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ** ‚Äî –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–µ key=value –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —É –∫–∞–∂–¥–æ–≥–æ —Ä–µ—Å—É—Ä—Å–∞
- **–ò—Å—Ç–æ—Ä–∏—è –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞** –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫–∞–∂–¥–æ–≥–æ —Ä–µ—Å—É—Ä—Å–∞
- **GUI** ‚Äî –±–æ–∫–æ–≤–∞—è –ø–∞–Ω–µ–ª—å (RHS) —Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º —á–µ—Ä–µ–∑ –∫–Ω–æ–ø–∫—É üñ•Ô∏è –≤ —à–∞–ø–∫–µ –∫–∞–Ω–∞–ª–∞
- **Slash-–∫–æ–º–∞–Ω–¥—ã** (`/rq`) ‚Äî –ø–æ–ª–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏–∑ —á–∞—Ç–∞
- **–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å** ‚Äî CRUD —Ä–µ—Å—É—Ä—Å–æ–≤ (–∏–º—è, IP, –∏–∫–æ–Ω–∫–∞, –æ–ø–∏—Å–∞–Ω–∏–µ, –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ)

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –¥–ª—è —Å–±–æ—Ä–∫–∏

- **Go** 1.21+
- **Node.js** 18+ –∏ npm
- **Mattermost Server** 7.0+

## –°–±–æ—Ä–∫–∞ (Windows)

```bat
cd mattermost-plugin-resource-queue

:: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Go-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
go mod tidy

:: –ü–æ–ª–Ω–∞—è —Å–±–æ—Ä–∫–∞
build.bat
```

–†–µ–∑—É–ª—å—Ç–∞—Ç: `com.scientia.resource-queue-1.0.1.tar.gz`

### –°–±–æ—Ä–∫–∞ (Linux/macOS)

```bash
cd mattermost-plugin-resource-queue
go mod tidy
make dist
```

### –†—É—á–Ω–∞—è —Å–±–æ—Ä–∫–∞ –ø–æ —à–∞–≥–∞–º

```bash
# 1. –°–µ—Ä–≤–µ—Ä (–ø–æ–≤—Ç–æ—Ä–∏—Ç—å –¥–ª—è –∫–∞–∂–¥–æ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã)
cd server
GOOS=linux GOARCH=amd64 CGO_ENABLED=0 go build -o dist/plugin-linux-amd64 .
GOOS=windows GOARCH=amd64 CGO_ENABLED=0 go build -o dist/plugin-windows-amd64.exe .
GOOS=darwin GOARCH=arm64 CGO_ENABLED=0 go build -o dist/plugin-darwin-arm64 .
cd ..

# 2. Webapp
cd webapp
npm install --legacy-peer-deps
npm run build
cd ..

# 3. –£–ø–∞–∫–æ–≤–∫–∞ (—É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –ø—Ä–∞–≤–∞ 0755 –Ω–∞ –±–∏–Ω–∞—Ä–∏)
go run pack.go
```

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1. **System Console ‚Üí Plugin Management ‚Üí Upload Plugin**
2. –ó–∞–≥—Ä—É–∑–∏—Ç—å `com.scientia.resource-queue-1.0.1.tar.gz`
3. –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –ø–ª–∞–≥–∏–Ω
4. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤ **System Console ‚Üí Plugins ‚Üí Resource Queue**

## –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–ª–∞–≥–∏–Ω–∞

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é | –û–ø–∏—Å–∞–Ω–∏–µ |
|---|---|---|
| Notify Before Expiry | 10 –º–∏–Ω | –ó–∞ —Å–∫–æ–ª—å–∫–æ –º–∏–Ω—É—Ç –¥–æ –∏—Å—Ç–µ—á–µ–Ω–∏—è –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–∞—Ç—å |
| Max Booking Duration | 24 —á | –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è |
| Scheduler Check Interval | 30 —Å–µ–∫ | –ò–Ω—Ç–µ—Ä–≤–∞–ª –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏—Å—Ç–µ—á–µ–Ω–∏–π |

## Slash-–∫–æ–º–∞–Ω–¥—ã

–í—Å–µ –∫–æ–º–∞–Ω–¥—ã –Ω–∞—á–∏–Ω–∞—é—Ç—Å—è —Å `/rq`:

| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---|---|
| `/rq list` | –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Ä–µ—Å—É—Ä—Å–æ–≤ |
| `/rq status [–∏–º—è]` | –°—Ç–∞—Ç—É—Å –æ–¥–Ω–æ–≥–æ –∏–ª–∏ –≤—Å–µ—Ö —Ä–µ—Å—É—Ä—Å–æ–≤ |
| `/rq book <–∏–º—è> <–≤—Ä–µ–º—è> [—Ü–µ–ª—å]` | –ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ—Å—É—Ä—Å |
| `/rq release <–∏–º—è>` | –û—Å–≤–æ–±–æ–¥–∏—Ç—å —Ä–µ—Å—É—Ä—Å |
| `/rq extend <–∏–º—è> <–≤—Ä–µ–º—è>` | –ü—Ä–æ–¥–ª–∏—Ç—å –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ |
| `/rq queue <–∏–º—è> <–≤—Ä–µ–º—è> [—Ü–µ–ª—å]` | –í—Å—Ç–∞—Ç—å –≤ –æ—á–µ—Ä–µ–¥—å |
| `/rq leave <–∏–º—è>` | –ü–æ–∫–∏–Ω—É—Ç—å –æ—á–µ—Ä–µ–¥—å |
| `/rq subscribe <–∏–º—è>` | –ü–æ–¥–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ —Ä–µ—Å—É—Ä—Å–µ |
| `/rq unsubscribe <–∏–º—è>` | –û—Ç–ø–∏—Å–∞—Ç—å—Å—è |
| `/rq history <–∏–º—è>` | –ò—Å—Ç–æ—Ä–∏—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è |
| `/rq help` | –°–ø—Ä–∞–≤–∫–∞ |

**–§–æ—Ä–º–∞—Ç –≤—Ä–µ–º–µ–Ω–∏:** `30m`, `1h`, `2h30m`, `4h`, –∏–ª–∏ —á–∏—Å–ª–æ –º–∏–Ω—É—Ç (`90`)

**–ò–º—è —Ä–µ—Å—É—Ä—Å–∞:** –ø–æ–ª–Ω–æ–µ –∏–º—è, —á–∞—Å—Ç—å –∏–º–µ–Ω–∏ –∏–ª–∏ –Ω–∞—á–∞–ª–æ ID (–ø–æ–∏—Å–∫ –Ω–µ—á—ë—Ç–∫–∏–π)

## GUI

–ö–Ω–æ–ø–∫–∞ **üñ•Ô∏è** –≤ —à–∞–ø–∫–µ –∫–∞–Ω–∞–ª–∞ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –±–æ–∫–æ–≤—É—é –ø–∞–Ω–µ–ª—å —Å–æ —Å–ø–∏—Å–∫–æ–º —Ä–µ—Å—É—Ä—Å–æ–≤.

–î–ª—è –∫–∞–∂–¥–æ–≥–æ —Ä–µ—Å—É—Ä—Å–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è:
- –°—Ç–∞—Ç—É—Å (üü¢ —Å–≤–æ–±–æ–¥–µ–Ω / üî¥ –∑–∞–Ω—è—Ç + –∫–µ–º + –æ—Å—Ç–∞–≤—à–µ–µ—Å—è –≤—Ä–µ–º—è)
- –û—á–µ—Ä–µ–¥—å
- –ö–Ω–æ–ø–∫–∏: –ó–∞–Ω—è—Ç—å, –û—Å–≤–æ–±–æ–¥–∏—Ç—å, –í –æ—á–µ—Ä–µ–¥—å, –ü–æ–¥–ø–∏—Å–∞—Ç—å—Å—è, –ò—Å—Ç–æ—Ä–∏—è

**–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–∞–º–∏** (‚öôÔ∏è) ‚Äî –¥–æ—Å—Ç—É–ø–Ω–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞–º –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è/—É–¥–∞–ª–µ–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤.

## –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (–±–æ—Ç ‚Üí DM)

- ‚ö†Ô∏è ¬´–ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∫–æ—Ä–æ –∏—Å—Ç–µ—á—ë—Ç¬ª ‚Äî –∑–∞ N –º–∏–Ω—É—Ç –¥–æ –∫–æ–Ω—Ü–∞
- ‚è∞ ¬´–í—Ä–µ–º—è –∏—Å—Ç–µ–∫–ª–æ, —Ä–µ—Å—É—Ä—Å –æ—Å–≤–æ–±–æ–∂–¥—ë–Ω¬ª ‚Äî –ø—Ä–∏ –∞–≤—Ç–æ–æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–∏
- üëã ¬´–ö—Ç–æ-—Ç–æ –≤—Å—Ç–∞–ª –∑–∞ –≤–∞–º–∏ –≤ –æ—á–µ—Ä–µ–¥—å¬ª ‚Äî —Ç–µ–∫—É—â–µ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
- üéâ ¬´–†–µ—Å—É—Ä—Å —Å–≤–æ–±–æ–¥–µ–Ω, –≤—ã —Å–ª–µ–¥—É—é—â–∏–π¬ª ‚Äî –ø–µ—Ä–≤–æ–º—É –≤ –æ—á–µ—Ä–µ–¥–∏
- üîí/üîì –°–º–µ–Ω–∞ —Å—Ç–∞—Ç—É—Å–∞ ‚Äî –≤—Å–µ–º –ø–æ–¥–ø–∏—Å—á–∏–∫–∞–º

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
‚îú‚îÄ‚îÄ plugin.json          # –ú–∞–Ω–∏—Ñ–µ—Å—Ç
‚îú‚îÄ‚îÄ pack.go              # –£–ø–∞–∫–æ–≤—â–∏–∫ (Windows-—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–π, –ø—Ä–∞–≤–∞ 0755)
‚îú‚îÄ‚îÄ build.bat            # –°–∫—Ä–∏–ø—Ç —Å–±–æ—Ä–∫–∏ Windows
‚îú‚îÄ‚îÄ Makefile             # –°–±–æ—Ä–∫–∞ Linux/macOS
‚îú‚îÄ‚îÄ go.mod
‚îú‚îÄ‚îÄ server/
‚îÇ   ‚îú‚îÄ‚îÄ plugin.go        # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞, –±–æ—Ç, –∂–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª
‚îÇ   ‚îú‚îÄ‚îÄ configuration.go # –ß—Ç–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫
‚îÇ   ‚îú‚îÄ‚îÄ models.go        # –°—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îú‚îÄ‚îÄ store.go         # KV Store (—Ä–µ—Å—É—Ä—Å—ã, –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è, –æ—á–µ—Ä–µ–¥—å, –∏—Å—Ç–æ—Ä–∏—è)
‚îÇ   ‚îú‚îÄ‚îÄ api.go           # HTTP REST API –¥–ª—è GUI
‚îÇ   ‚îú‚îÄ‚îÄ commands.go      # Slash-–∫–æ–º–∞–Ω–¥—ã /rq
‚îÇ   ‚îú‚îÄ‚îÄ scheduler.go     # –§–æ–Ω–æ–≤–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∏—Å—Ç–µ—á–µ–Ω–∏–π
‚îÇ   ‚îî‚îÄ‚îÄ notifications.go # –û—Ç–ø—Ä–∞–≤–∫–∞ DM, —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø–æ–¥–ø–∏—Å—á–∏–∫–∞–º
‚îî‚îÄ‚îÄ webapp/
    ‚îú‚îÄ‚îÄ src/
    ‚îÇ   ‚îú‚îÄ‚îÄ index.tsx            # –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–ª–∞–≥–∏–Ω–∞
    ‚îÇ   ‚îú‚îÄ‚îÄ actions/api.ts       # HTTP-–∫–ª–∏–µ–Ω—Ç
    ‚îÇ   ‚îî‚îÄ‚îÄ components/
    ‚îÇ       ‚îú‚îÄ‚îÄ RHSView.tsx      # –ì–ª–∞–≤–Ω–∞—è –ø–∞–Ω–µ–ª—å
    ‚îÇ       ‚îú‚îÄ‚îÄ ResourceCard.tsx # –ö–∞—Ä—Ç–æ—á–∫–∞ —Ä–µ—Å—É—Ä—Å–∞
    ‚îÇ       ‚îú‚îÄ‚îÄ BookingModal.tsx # –ú–æ–¥–∞–ª –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
    ‚îÇ       ‚îú‚îÄ‚îÄ AdminPanel.tsx   # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–∞–º–∏
    ‚îÇ       ‚îî‚îÄ‚îÄ HistoryPanel.tsx # –ò—Å—Ç–æ—Ä–∏—è –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
    ‚îú‚îÄ‚îÄ webpack.config.js
    ‚îî‚îÄ‚îÄ tsconfig.json
```
